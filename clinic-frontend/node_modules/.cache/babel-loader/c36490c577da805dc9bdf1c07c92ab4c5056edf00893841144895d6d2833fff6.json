{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport axios from 'axios';\nimport router from '../router';\nexport default {\n  __name: 'LoginPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const email = ref('');\n    const password = ref('');\n    const error = ref('');\n    const login = async () => {\n      try {\n        const res = await axios.post('http://127.0.0.1:8000/login', {\n          username: email.value,\n          password: password.value\n        });\n        localStorage.setItem('token', res.data.access_token);\n        router.push('/dashboard');\n      } catch (err) {\n        error.value = 'Login failed';\n      }\n    };\n    const __returned__ = {\n      email,\n      password,\n      error,\n      login,\n      ref,\n      get axios() {\n        return axios;\n      },\n      get router() {\n        return router;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","router","email","password","error","login","res","post","username","value","localStorage","setItem","data","access_token","push","err"],"sources":["D:/webapp/project/clinic-frontend/src/views/LoginPage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>Login</h1>\r\n    <form @submit.prevent=\"login\">\r\n      <div>\r\n        <label>Email</label>\r\n        <input v-model=\"email\" type=\"email\" required />\r\n      </div>\r\n      <div>\r\n        <label>Password</label>\r\n        <input v-model=\"password\" type=\"password\" required />\r\n      </div>\r\n      <button type=\"submit\">Login</button>\r\n    </form>\r\n    <p v-if=\"error\">{{ error }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport axios from 'axios'\r\nimport router from '../router'\r\n\r\nconst email = ref('')\r\nconst password = ref('')\r\nconst error = ref('')\r\n\r\nconst login = async () => {\r\n  try {\r\n    const res = await axios.post('http://127.0.0.1:8000/login', {\r\n      username: email.value,\r\n      password: password.value\r\n    })\r\n    localStorage.setItem('token', res.data.access_token)\r\n    router.push('/dashboard')\r\n  } catch (err) {\r\n    error.value = 'Login failed'\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";AAmBA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,WAAW;;;;;;;IAE9B,MAAMC,KAAK,GAAGH,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMI,QAAQ,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMK,KAAK,GAAGL,GAAG,CAAC,EAAE,CAAC;IAErB,MAAMM,KAAK,GAAG,MAAAA,CAAA,KAAY;MACxB,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAC,6BAA6B,EAAE;UAC1DC,QAAQ,EAAEN,KAAK,CAACO,KAAK;UACrBN,QAAQ,EAAEA,QAAQ,CAACM;QACrB,CAAC,CAAC;QACFC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,GAAG,CAACM,IAAI,CAACC,YAAY,CAAC;QACpDZ,MAAM,CAACa,IAAI,CAAC,YAAY,CAAC;MAC3B,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZX,KAAK,CAACK,KAAK,GAAG,cAAc;MAC9B;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}