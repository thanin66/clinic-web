{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport api from \"../api\";\nexport default {\n  name: \"LoginPage\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      error: \"\"\n    };\n  },\n  methods: {\n    async login() {\n      try {\n        const response = await api.post(\"/login\", {\n          username: this.username,\n          password: this.password\n        });\n        // บันทึก JWT ลง localStorage\n        localStorage.setItem(\"token\", response.data.access_token);\n        // redirect หลัง login\n        this.$router.push(\"/dashboard\");\n      } catch (err) {\n        this.error = \"Login failed. Check username or password.\";\n        console.error(err);\n      }\n    }\n  }\n};","map":{"version":3,"names":["api","name","data","username","password","error","methods","login","response","post","localStorage","setItem","access_token","$router","push","err","console"],"sources":["D:\\webapp\\project\\clinic-frontend\\src\\views\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-page\">\r\n    <h1>Login</h1>\r\n    <form @submit.prevent=\"login\">\r\n      <input v-model=\"username\" type=\"text\" placeholder=\"Username\" required />\r\n      <input v-model=\"password\" type=\"password\" placeholder=\"Password\" required />\r\n      <button type=\"submit\">Login</button>\r\n    </form>\r\n    <p v-if=\"error\">{{ error }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"../api\";\r\n\r\nexport default {\r\n  name: \"LoginPage\",\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      error: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    async login() {\r\n      try {\r\n        const response = await api.post(\"/login\", {\r\n          username: this.username,\r\n          password: this.password,\r\n        });\r\n        // บันทึก JWT ลง localStorage\r\n        localStorage.setItem(\"token\", response.data.access_token);\r\n        // redirect หลัง login\r\n        this.$router.push(\"/dashboard\");\r\n      } catch (err) {\r\n        this.error = \"Login failed. Check username or password.\";\r\n        console.error(err);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";AAaA,OAAOA,GAAE,MAAO,QAAQ;AAExB,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,KAAKA,CAAA,EAAG;MACZ,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMR,GAAG,CAACS,IAAI,CAAC,QAAQ,EAAE;UACxCN,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBC,QAAQ,EAAE,IAAI,CAACA;QACjB,CAAC,CAAC;QACF;QACAM,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,QAAQ,CAACN,IAAI,CAACU,YAAY,CAAC;QACzD;QACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,YAAY,CAAC;MACjC,EAAE,OAAOC,GAAG,EAAE;QACZ,IAAI,CAACV,KAAI,GAAI,2CAA2C;QACxDW,OAAO,CAACX,KAAK,CAACU,GAAG,CAAC;MACpB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}