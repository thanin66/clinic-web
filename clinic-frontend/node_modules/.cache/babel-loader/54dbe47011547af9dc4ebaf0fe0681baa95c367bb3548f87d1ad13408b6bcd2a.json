{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1,\n  style: {\n    \"color\": \"red\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[0] || (_cache[0] = _createElementVNode(\"h2\", null, \"Dashboard\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    onClick: $setup.getAppointments\n  }, \"Load Appointments\"), _createElementVNode(\"button\", {\n    onClick: $setup.logout\n  }, \"Logout\"), $setup.appointments.length ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.appointments, a => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: a.id\n    }, _toDisplayString(a.title) + \" - \" + _toDisplayString(a.date), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), $setup.error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_2, _toDisplayString($setup.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["style","_createElementBlock","_createElementVNode","onClick","$setup","getAppointments","logout","appointments","length","_hoisted_1","_Fragment","_renderList","a","key","id","title","_toDisplayString","date","error","_hoisted_2"],"sources":["D:\\webapp\\project\\clinic-frontend\\src\\views\\DashboardPage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Dashboard</h2>\r\n    <button @click=\"getAppointments\">Load Appointments</button>\r\n    <button @click=\"logout\">Logout</button>\r\n\r\n    <ul v-if=\"appointments.length\">\r\n      <li v-for=\"a in appointments\" :key=\"a.id\">\r\n        {{ a.title }} - {{ a.date }}\r\n      </li>\r\n    </ul>\r\n    <p v-if=\"error\" style=\"color:red\">{{ error }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport axios from \"axios\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nconst appointments = ref([]);\r\nconst error = ref(\"\");\r\nconst router = useRouter();\r\n\r\nconst getAppointments = async () => {\r\n  error.value = \"\";\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) throw new Error(\"No token found. Please login.\");\r\n\r\n    const res = await axios.get(\"http://127.0.0.1:8000/appointments/\", {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    appointments.value = res.data;\r\n  } catch (err) {\r\n    error.value = err.response?.data?.detail || err.message;\r\n  }\r\n};\r\n\r\nconst logout = () => {\r\n  localStorage.removeItem(\"token\");\r\n  router.push(\"/login\");\r\n};\r\n</script>\r\n"],"mappings":";;;;;;EAWoBA,KAAiB,EAAjB;IAAA;EAAA;;;uBAVlBC,mBAAA,CAWM,c,0BAVJC,mBAAA,CAAkB,YAAd,WAAS,qBACbA,mBAAA,CAA2D;IAAlDC,OAAK,EAAEC,MAAA,CAAAC;EAAe,GAAE,mBAAiB,GAClDH,mBAAA,CAAuC;IAA9BC,OAAK,EAAEC,MAAA,CAAAE;EAAM,GAAE,QAAM,GAEpBF,MAAA,CAAAG,YAAY,CAACC,MAAM,I,cAA7BP,mBAAA,CAIK,MAAAQ,UAAA,I,kBAHHR,mBAAA,CAEKS,SAAA,QAAAC,WAAA,CAFWP,MAAA,CAAAG,YAAY,EAAjBK,CAAC;yBAAZX,mBAAA,CAEK;MAF0BY,GAAG,EAAED,CAAC,CAACE;wBACjCF,CAAC,CAACG,KAAK,IAAG,KAAG,GAAAC,gBAAA,CAAGJ,CAAC,CAACK,IAAI;yEAGpBb,MAAA,CAAAc,KAAK,I,cAAdjB,mBAAA,CAAiD,KAAjDkB,UAAiD,EAAAH,gBAAA,CAAZZ,MAAA,CAAAc,KAAK,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}