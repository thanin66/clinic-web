{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_form = _resolveComponent(\"v-form\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_alert = _resolveComponent(\"v-alert\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  return _openBlock(), _createBlock(_component_v_container, {\n    class: \"fill-height\",\n    fluid: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_v_row, {\n      justify: \"center\",\n      align: \"center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_col, {\n        cols: \"12\",\n        sm: \"8\",\n        md: \"4\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_v_card, null, {\n          default: _withCtx(() => [_createVNode(_component_v_card_title, {\n            class: \"text-h5\"\n          }, {\n            default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"Login\", -1 /* CACHED */)])),\n            _: 1 /* STABLE */,\n            __: [3]\n          }), _createVNode(_component_v_card_text, null, {\n            default: _withCtx(() => [_createVNode(_component_v_form, {\n              onSubmit: _withModifiers($setup.submitLogin, [\"prevent\"]),\n              ref: \"loginForm\",\n              modelValue: $setup.valid,\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.valid = $event)\n            }, {\n              default: _withCtx(() => [_createVNode(_component_v_text_field, {\n                modelValue: $setup.username,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.username = $event),\n                label: \"Username\",\n                rules: [v => !!v || 'Username is required'],\n                required: \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"]), _createVNode(_component_v_text_field, {\n                modelValue: $setup.password,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event),\n                label: \"Password\",\n                type: \"password\",\n                rules: [v => !!v || 'Password is required'],\n                required: \"\"\n              }, null, 8 /* PROPS */, [\"modelValue\", \"rules\"]), _createVNode(_component_v_btn, {\n                type: \"submit\",\n                color: \"primary\",\n                disabled: !$setup.valid || $setup.loading,\n                class: \"mt-4\",\n                block: \"\"\n              }, {\n                default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\" Login \", -1 /* CACHED */)])),\n                _: 1 /* STABLE */,\n                __: [4]\n              }, 8 /* PROPS */, [\"disabled\"])]),\n              _: 1 /* STABLE */\n            }, 8 /* PROPS */, [\"modelValue\"])]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_v_card_actions, null, {\n            default: _withCtx(() => [$setup.errorMessage ? (_openBlock(), _createBlock(_component_v_alert, {\n              key: 0,\n              type: \"error\",\n              dense: \"\",\n              text: \"\"\n            }, {\n              default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.errorMessage), 1 /* TEXT */)]),\n              _: 1 /* STABLE */\n            })) : _createCommentVNode(\"v-if\", true)]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","class","fluid","_createVNode","_component_v_row","justify","align","_component_v_col","cols","sm","md","_component_v_card","_component_v_card_title","_cache","_component_v_card_text","_component_v_form","onSubmit","_withModifiers","$setup","submitLogin","ref","valid","$event","_component_v_text_field","username","label","rules","v","required","password","type","_component_v_btn","color","disabled","loading","block","_component_v_card_actions","errorMessage","_component_v_alert","dense","text"],"sources":["D:\\webapp\\project\\clinic-frontend\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n  <v-container class=\"fill-height\" fluid>\r\n    <v-row justify=\"center\" align=\"center\">\r\n      <v-col cols=\"12\" sm=\"8\" md=\"4\">\r\n        <v-card>\r\n          <v-card-title class=\"text-h5\">Login</v-card-title>\r\n          <v-card-text>\r\n            <v-form @submit.prevent=\"submitLogin\" ref=\"loginForm\" v-model=\"valid\">\r\n              <v-text-field\r\n                v-model=\"username\"\r\n                label=\"Username\"\r\n                :rules=\"[v => !!v || 'Username is required']\"\r\n                required\r\n              />\r\n              <v-text-field\r\n                v-model=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                :rules=\"[v => !!v || 'Password is required']\"\r\n                required\r\n              />\r\n              <v-btn\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                :disabled=\"!valid || loading\"\r\n                class=\"mt-4\"\r\n                block\r\n              >\r\n                Login\r\n              </v-btn>\r\n            </v-form>\r\n          </v-card-text>\r\n          <v-card-actions>\r\n            <v-alert v-if=\"errorMessage\" type=\"error\" dense text>\r\n              {{ errorMessage }}\r\n            </v-alert>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport axios from 'axios'\r\n\r\nconst username = ref('')\r\nconst password = ref('')\r\nconst valid = ref(false)\r\nconst errorMessage = ref('')\r\nconst loading = ref(false)\r\n\r\nconst submitLogin = async () => {\r\n  errorMessage.value = ''\r\n  if (!valid.value) return\r\n\r\n  loading.value = true\r\n  try {\r\n    const response = await axios.post('http://localhost:8000/login', {\r\n      username: username.value,\r\n      password: password.value,\r\n    })\r\n\r\n    console.log('Login success:', response.data)\r\n    // เก็บ token หรือทำอย่างอื่นตามต้องการ เช่น redirect ไปหน้าอื่น\r\n  } catch (error) {\r\n    errorMessage.value = error.response?.data?.detail || 'Login failed'\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";;;;;;;;;;;;;uBACEA,YAAA,CAuCcC,sBAAA;IAvCDC,KAAK,EAAC,aAAa;IAACC,KAAK,EAAL;;sBAC/B,MAqCQ,CArCRC,YAAA,CAqCQC,gBAAA;MArCDC,OAAO,EAAC,QAAQ;MAACC,KAAK,EAAC;;wBAC5B,MAmCQ,CAnCRH,YAAA,CAmCQI,gBAAA;QAnCDC,IAAI,EAAC,IAAI;QAACC,EAAE,EAAC,GAAG;QAACC,EAAE,EAAC;;0BACzB,MAiCS,CAjCTP,YAAA,CAiCSQ,iBAAA;4BAhCP,MAAkD,CAAlDR,YAAA,CAAkDS,uBAAA;YAApCX,KAAK,EAAC;UAAS;8BAAC,MAAKY,MAAA,QAAAA,MAAA,O,iBAAL,OAAK,mB;;;cACnCV,YAAA,CAyBcW,sBAAA;8BAxBZ,MAuBS,CAvBTX,YAAA,CAuBSY,iBAAA;cAvBAC,QAAM,EAAAC,cAAA,CAAUC,MAAA,CAAAC,WAAW;cAAEC,GAAG,EAAC,WAAW;0BAAUF,MAAA,CAAAG,KAAK;yEAALH,MAAA,CAAAG,KAAK,GAAAC,MAAA;;gCAClE,MAKE,CALFnB,YAAA,CAKEoB,uBAAA;4BAJSL,MAAA,CAAAM,QAAQ;2EAARN,MAAA,CAAAM,QAAQ,GAAAF,MAAA;gBACjBG,KAAK,EAAC,UAAU;gBACfC,KAAK,GAAGC,CAAC,MAAMA,CAAC;gBACjBC,QAAQ,EAAR;gEAEFzB,YAAA,CAMEoB,uBAAA;4BALSL,MAAA,CAAAW,QAAQ;2EAARX,MAAA,CAAAW,QAAQ,GAAAP,MAAA;gBACjBG,KAAK,EAAC,UAAU;gBAChBK,IAAI,EAAC,UAAU;gBACdJ,KAAK,GAAGC,CAAC,MAAMA,CAAC;gBACjBC,QAAQ,EAAR;gEAEFzB,YAAA,CAQQ4B,gBAAA;gBAPND,IAAI,EAAC,QAAQ;gBACbE,KAAK,EAAC,SAAS;gBACdC,QAAQ,GAAGf,MAAA,CAAAG,KAAK,IAAIH,MAAA,CAAAgB,OAAO;gBAC5BjC,KAAK,EAAC,MAAM;gBACZkC,KAAK,EAAL;;kCACD,MAEDtB,MAAA,QAAAA,MAAA,O,iBAFC,SAED,mB;;;;;;;cAGJV,YAAA,CAIiBiC,yBAAA;8BAHf,MAEU,CAFKlB,MAAA,CAAAmB,YAAY,I,cAA3BtC,YAAA,CAEUuC,kBAAA;;cAFmBR,IAAI,EAAC,OAAO;cAACS,KAAK,EAAL,EAAK;cAACC,IAAI,EAAJ;;gCAC9C,MAAkB,C,kCAAftB,MAAA,CAAAmB,YAAY,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}