{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from \"vue\";\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\nexport default {\n  __name: 'DashboardPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const appointments = ref([]);\n    const error = ref(\"\");\n    const router = useRouter();\n    const getAppointments = async () => {\n      error.value = \"\";\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) throw new Error(\"No token found. Please login.\");\n        const res = await axios.get(\"http://127.0.0.1:8000/appointments/\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        appointments.value = res.data;\n      } catch (err) {\n        error.value = err.response?.data?.detail || err.message;\n      }\n    };\n    const logout = () => {\n      localStorage.removeItem(\"token\");\n      router.push(\"/login\");\n    };\n    const __returned__ = {\n      appointments,\n      error,\n      router,\n      getAppointments,\n      logout,\n      ref,\n      get axios() {\n        return axios;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","useRouter","appointments","error","router","getAppointments","value","token","localStorage","getItem","Error","res","get","headers","Authorization","data","err","response","detail","message","logout","removeItem","push"],"sources":["D:/webapp/project/clinic-frontend/src/views/DashboardPage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Dashboard</h2>\r\n    <button @click=\"getAppointments\">Load Appointments</button>\r\n    <button @click=\"logout\">Logout</button>\r\n\r\n    <ul v-if=\"appointments.length\">\r\n      <li v-for=\"a in appointments\" :key=\"a.id\">\r\n        {{ a.title }} - {{ a.date }}\r\n      </li>\r\n    </ul>\r\n    <p v-if=\"error\" style=\"color:red\">{{ error }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport axios from \"axios\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\nconst appointments = ref([]);\r\nconst error = ref(\"\");\r\nconst router = useRouter();\r\n\r\nconst getAppointments = async () => {\r\n  error.value = \"\";\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) throw new Error(\"No token found. Please login.\");\r\n\r\n    const res = await axios.get(\"http://127.0.0.1:8000/appointments/\", {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    appointments.value = res.data;\r\n  } catch (err) {\r\n    error.value = err.response?.data?.detail || err.message;\r\n  }\r\n};\r\n\r\nconst logout = () => {\r\n  localStorage.removeItem(\"token\");\r\n  router.push(\"/login\");\r\n};\r\n</script>\r\n"],"mappings":";AAgBA,SAASA,GAAG,QAAQ,KAAK;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,YAAY;;;;;;;IAEtC,MAAMC,YAAY,GAAGH,GAAG,CAAC,EAAE,CAAC;IAC5B,MAAMI,KAAK,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMK,MAAM,GAAGH,SAAS,CAAC,CAAC;IAE1B,MAAMI,eAAe,GAAG,MAAAA,CAAA,KAAY;MAClCF,KAAK,CAACG,KAAK,GAAG,EAAE;MAChB,IAAI;QACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,IAAI,CAACF,KAAK,EAAE,MAAM,IAAIG,KAAK,CAAC,+BAA+B,CAAC;QAE5D,MAAMC,GAAG,GAAG,MAAMX,KAAK,CAACY,GAAG,CAAC,qCAAqC,EAAE;UACjEC,OAAO,EAAE;YACPC,aAAa,EAAE,UAAUP,KAAK;UAChC;QACF,CAAC,CAAC;QACFL,YAAY,CAACI,KAAK,GAAGK,GAAG,CAACI,IAAI;MAC/B,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZb,KAAK,CAACG,KAAK,GAAGU,GAAG,CAACC,QAAQ,EAAEF,IAAI,EAAEG,MAAM,IAAIF,GAAG,CAACG,OAAO;MACzD;IACF,CAAC;IAED,MAAMC,MAAM,GAAGA,CAAA,KAAM;MACnBZ,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC;MAChCjB,MAAM,CAACkB,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}